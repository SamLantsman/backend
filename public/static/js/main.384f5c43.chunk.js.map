{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddCardPopup.js","components/ConfirmDeleteCardPopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","alt","src","logo","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardDelete","type","onCardClick","name","onCardLike","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","item","link","length","Footer","ImagePopup","isOpen","onClose","PopupWithForm","noValidate","title","children","onSubmit","button","EditProfilePopup","useState","setName","job","setJob","useEffect","undefined","nameFieldValid","jobFieldValid","console","log","isLoading","e","preventDefault","onUpdateUser","placeholder","maxLength","minLength","required","id","defaultValue","onChange","target","value","EditAvatarPopup","inputRef","createRef","onUpdateAvatar","current","ref","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","onAddCard","ConfirmDeleteCardPopup","onConfirmDeleteCard","api","config","this","_url","url","_headers","headers","fetch","then","res","ok","json","Promise","reject","status","data","method","body","JSON","stringify","newCard","cardId","authorization","App","setCurrentUser","getUserInfo","user","catch","err","getCardsInfo","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsUpdateAvaterPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","selectedCard","setSelectedCard","cardToDelete","setCardToDelete","setIsLoading","closeAllPopups","Provider","changeLikeCardStatus","newCards","c","updateUserInfo","newUser","finally","updateAvatar","userWithNewAvatar","AddCardPopup","addNewCard","deleteCard","filter","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.384f5c43.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import \"../index.css\";\nimport logo from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"header__image\" alt=\"логотип Mesto\" src={logo} />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\nexport const CurrentUserContext = React.createContext();","import { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport React from 'react';\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = (\n    `card__delete ${isOwn ? 'card__delete_visible' : ''}`\n  ); \n\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n  const cardLikeButtonClassName = (`card__like ${isLiked ? 'card__like_clicked' : ''}`);\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card)\n  }\n\n  function handleDeleteCardClick() {\n    props.onCardDelete(props.card)\n  }\n  \n  \n\n  return(\n    <div className=\"card\">\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteCardClick} type=\"button\"/>\n      <img className=\"card__image\" src={props.src} alt={props.alt} onClick={handleClick}/>\n      <div className=\"card__info\">\n        <h2 className=\"card__heading\">{props.name}</h2>\n        <div className=\"card__like-container\">\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"/>\n          <p className=\"card__like-counter\">{props.likes}</p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Card;","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar\">\n          <img\n            className=\"profile__image\"\n            alt=\"аватар\"\n            src={currentUser.avatar}\n          />\n          <button\n            className=\"profile__edit-avatar\"\n            type=\"button\"\n            onClick={props.onEditAvatar}\n          />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__info-block\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              className=\"profile__edit-button\"\n              onClick={props.onEditProfile}\n            />\n          </div>\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__add-button\" onClick={props.onAddPlace} />\n      </section>\n      <section className=\"gallery\">\n        {props.cards.map((item) => (\n          <Card\n            key={item._id}\n            src={item.link}\n            alt={item.alt}\n            name={item.name}\n            likes={item.likes.length}\n            card={item}\n            onCardClick={props.onCardClick}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","function ImagePopup (props) {\n  return (\n    <div className={`popup popup__image ${props.isOpen ? \"popup_is-opened\" : \"\"}`}>\n    <div className=\"popup__image-content\">\n        <button className=\"popup__close-image popup__image-close-image\" type=\"button\" onClick={props.onClose}/>\n        <img className=\"popup__image-picture\" alt={props.src} src={props.src}/>\n        <p className=\"popup__caption\">{props.name}</p>\n    </div>\n</div>\n  )\n}\n\nexport default ImagePopup;","function PopupWithForm(props) {\n  return (\n    <div\n      className={`popup popup_type_${props.name} ${\n        props.isOpen ? \"popup_is-opened\" : \"\"\n      }`}\n    >\n      <form\n        className={`popup__content popup_type_${props.name}-content`}\n        name={`${props.name}`}\n        noValidate\n      >\n        <button\n          className=\"popup__close-image\"\n          type=\"button\"\n          onClick={props.onClose}\n        />\n        <h3 className=\"popup__heading\">{props.title}</h3>\n        {props.children}\n        <button\n          className=\"popup__save-button\"\n          type=\"submit\"\n          onClick={props.onSubmit}\n        >\n          {props.button}\n        </button>\n      </form>\n    </div>\n  );\n}\nexport default PopupWithForm;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState(\"\");\n  const [job, setJob] = React.useState(\"\");\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setJob(currentUser.about);\n  }, [currentUser]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name: name,\n      about: job,\n    });\n  }\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleJobChange(e) {\n    setJob(e.target.value);\n  }\n\n  React.useEffect(() => {\n    if (name !== undefined && job !== undefined) {\n      const isNameFilled = name.length >= 2 && name.length <= 40;\n      const nameFieldValid = isNameFilled;\n\n      const isJobFilled = job.length >= 2 && job.length <= 200;\n      const jobFieldValid = isJobFilled;\n\n      console.log(nameFieldValid, jobFieldValid);\n    }\n  });\n\n  return (\n    <PopupWithForm\n      onClose={props.onClose}\n      title=\"Редактировать профиль\"\n      name=\"editProfile\"\n      button={props.isLoading ? \"Редактирую...\" : \"Сохранить\"}\n      isOpen={props.isOpen ? true : false}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Имя\"\n        className=\"popup__text popup__text-name\"\n        maxLength=\"40\"\n        minLength=\"2\"\n        required\n        id=\"profile-input\"\n        defaultValue={name}\n        onChange={handleNameChange}\n      />\n      <span className=\"popup__text_error\" id=\"profile-input-error\"></span>\n      <input\n        type=\"text\"\n        name=\"job\"\n        placeholder=\"Вид деятельности\"\n        className=\"popup__text popup__text-job\"\n        maxLength=\"200\"\n        minLength=\"2\"\n        required\n        id=\"job-input\"\n        defaultValue={job}\n        onChange={handleJobChange}\n      />\n      <span className=\"popup__text_error\" id=\"job-input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nfunction EditAvatarPopup(props) {\n  const inputRef = React.createRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar(inputRef.current.value);\n  }\n\n  return (\n    <>\n      <PopupWithForm\n        onClose={props.onClose}\n        title=\"Обновить аватар\"\n        name=\"updateAvatar\"\n        button={props.isLoading ? \"Сохранение...\" : \"Обновить аватар\"}\n        isOpen={props.isOpen ? true : false}\n        onSubmit={handleSubmit}\n      >\n        <input\n          type=\"url\"\n          placeholder=\"Ссылка на аватар\"\n          className=\"popup__text popup__text-avatar\"\n          required\n          id=\"link-input\"\n          ref={inputRef}\n        />\n        <span className=\"popup__text_error\" id=\"link-input-error\"></span>\n      </PopupWithForm>\n    </>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nfunction AddPlacePopup(props) {\n  const [cardName, setCardName] = React.useState('');\n  const [cardLink, setCardLink] = React.useState('');\n\n  function handleNameChange(e) {\n    setCardName(e.target.value)\n  }\n\n  function handleLinkChange(e) {\n    setCardLink(e.target.value)\n  }\n\n  function handleSubmit(e) {\n\n    e.preventDefault();\n    props.onAddCard({\n      name: cardName,\n      link: cardLink,\n    });\n    setCardName('');\n    setCardLink('');\n  }\n  return (\n    <PopupWithForm\n      onClose={props.onClose}\n      title=\"Название\"\n      name=\"addCard\"\n      button={props.isLoading ? \"Cохранение...\" : \"Создать\"}\n      isOpen={props.isOpen ? true : false}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Новое место\"\n        className=\"popup__text popup__text-name\"\n        maxLength=\"40\"\n        minLength=\"2\"\n        required\n        id=\"profile-input\"\n        defaultValue=\"\"\n        onChange={handleNameChange}\n      />\n      <span className=\"popup__text_error\" id=\"name-input-error\"></span>\n      <input\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        className=\"popup__text popup__text-image\"\n        required\n        id=\"link-input\"\n        defaultValue=\"\"\n        onChange={handleLinkChange}\n      />\n      <span className=\"popup__text_error\" id=\"link-input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nfunction ConfirmDeleteCardPopup(props) {\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onConfirmDeleteCard();\n  }\n\n  return (\n      <PopupWithForm\n        onClose={props.onClose}\n        title=\"Вы уверены?\"\n        name=\"deleteCard\"\n        button={props.isLoading ? \"Секундочку, удаляю...\" : \"Да\"}\n        isOpen={props.isOpen ? true : false}\n        onSubmit={handleSubmit}\n      ></PopupWithForm>\n  );\n}\n\nexport default ConfirmDeleteCardPopup;\n","class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}users/me`, {\n      headers: this._headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  updateUserInfo(data) {\n    return fetch(`${this._url}users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  getCardsInfo() {\n    return fetch(`${this._url}cards`, {\n      headers: this._headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  addNewCard(newCard) {\n    return fetch(`${this._url}cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  updateAvatar(data) {\n    return fetch(`${this._url}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n\n    if(isLiked) {\n      return fetch(`${this._url}cards/likes/${cardId}`, {\n        method: \"PUT\",\n        headers: this._headers,\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n    } else {\n      return fetch(`${this._url}cards/likes/${cardId}`, {\n        method: \"DELETE\",\n        headers: this._headers,\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n    }\n    \n  }\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co./v1/cohort-18/\",\n  headers: {\n    authorization: \"009139ff-d881-4763-b796-0ba6b710c85a\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","import \"../index.css\";\nimport React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddCardPopup from \"./AddCardPopup\";\nimport ConfirmDeleteCardPopup from \"./ConfirmDeleteCardPopup\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((user) => {\n        setCurrentUser(user);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api\n      .getCardsInfo()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\n  const [isEditAvatarPopupOpen, setIsUpdateAvaterPopupOpen] = React.useState(\n    false\n  );\n\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = React.useState(\n    false\n  );\n\n  const [selectedCard, setSelectedCard] = React.useState({\n    isOpen: false,\n    link: \"\",\n    name: \"\",\n  });\n\n  const [cards, setCards] = React.useState([]);\n\n  const [cardToDelete, setCardToDelete] = React.useState(\"\");\n\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  function handleCardDelete() {\n    setIsLoading(true);\n    api\n      .deleteCard(cardToDelete)\n      .then(() => {\n        const newCards = cards.filter((element) => {\n          return element._id !== cardToDelete;\n        });\n\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        closeAllPopups();\n      });\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsUpdateAvaterPopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleDeleteCardClick(card) {\n    setCardToDelete(card._id);\n    setIsDeleteCardPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      isOpen: true,\n      link: card.link,\n      name: card.name,\n    });\n  }\n\n  function handleAddCardSubmit(newCard) {\n    setIsLoading(true);\n    api\n      .addNewCard(newCard)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        closeAllPopups();\n      });\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsUpdateAvaterPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setSelectedCard({ isOpen: false, link: \"\", name: \"\" });\n    setIsLoading(false);\n  }\n\n  function handleUpdateUser(data) {\n    setIsLoading(true);\n    api\n      .updateUserInfo(data)\n      .then((newUser) => {\n        setCurrentUser(newUser);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        closeAllPopups();\n      });\n  }\n\n  function handleUpdateAvatar(link) {\n    setIsLoading(true);\n    api\n      .updateAvatar(link)\n      .then((userWithNewAvatar) => {\n        setCurrentUser(userWithNewAvatar);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        closeAllPopups();\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"page\">\n          <Header />\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onEditAvatar={handleEditAvatarClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleDeleteCardClick}\n          />\n          <Footer />\n          <ImagePopup\n            isOpen={selectedCard.isOpen}\n            src={selectedCard.link}\n            name={selectedCard.name}\n            onClose={closeAllPopups}\n          />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            isLoading={isLoading}\n          />\n          <EditAvatarPopup\n            onClose={closeAllPopups}\n            isOpen={isEditAvatarPopupOpen}\n            onUpdateAvatar={handleUpdateAvatar}\n            isLoading={isLoading}\n          ></EditAvatarPopup>\n          <AddCardPopup\n            onClose={closeAllPopups}\n            isOpen={isAddPlacePopupOpen}\n            onAddCard={handleAddCardSubmit}\n            isLoading={isLoading}\n          ></AddCardPopup>\n          <ConfirmDeleteCardPopup\n            onClose={closeAllPopups}\n            isOpen={isDeleteCardPopupOpen}\n            onConfirmDeleteCard={handleCardDelete}\n            isLoading={isLoading}\n          ></ConfirmDeleteCardPopup>\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}